<%@ page language="java" contentType="text/html; charset=US-ASCII" pageEncoding="US-ASCII"%>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../../css/content.css" />
<jsp:include page="../Header_Java.jsp" />
<title>cHAPTER 4 bENEFITS OF eNCAPSULATION</title>
<% session.setAttribute("key","4_3_6");%>
</head>
<div id="menu">
<ul>
  <li><a href="../TechnicalViews.jsp">Technical Views</a></li>
  <li><a href="../funWeDo.html">Fun WE</a></li>
</ul>
</div>
<body>
<script type="text/javascript" src="../../js/script.js"></script>
<table>
<tr>
<td width=20% height=100% valign="top" bgcolor="#eaeaea">
<button class="accordion">iNTRODUCTION TO oBJECToRIENTED pROGRAMMING</button>
<div class="panel">
<p><a href="../chapter4/4_1introductiontoobjectorientedprogramming.jsp">iNTRODUCTION TO oBJECToRIENTED pROGRAMMING</a></p><p><a href="../chapter4/4_1_1classes.jsp">cLASSES</a></p>
<p><a href="../chapter4/4_1_2objects.jsp">oBJECTS</a></p>
<p><a href="../chapter4/4_1_3identifyingclasses.jsp">iDENTIFYING cLASSES</a></p>
<p><a href="../chapter4/4_1_4relationshipsbetweenclasses.jsp">rELATIONSHIPS BETWEEN cLASSES</a></p>
</div>
<button class="accordion">uSING pREDEFINED cLASSES</button>
<div class="panel">
<p><a href="../chapter4/4_2usingpredefinedclasses.jsp">uSING pREDEFINED cLASSES</a></p><p><a href="../chapter4/4_2_1objectsandobjectvariables.jsp">oBJECTS AND oBJECT vARIABLES</a></p>
<p><a href="../chapter4/4_2_2thelocaldateclassofthejavalibrary.jsp">tHE lOCALdATE cLASS OF THE jAVA lIBRARY</a></p>
<p><a href="../chapter4/4_2_3mutatorandaccessormethods.jsp">mUTATOR AND aCCESSOR mETHODS</a></p>
</div>
<button class="accordion">dEFINING yOUR oWN cLASSES</button>
<div class="panel">
<p><a href="../chapter4/4_3definingyourownclasses.jsp">dEFINING yOUR oWN cLASSES</a></p><p><a href="../chapter4/4_3_1anemployeeclass.jsp">aN eMPLOYEE cLASS</a></p>
<p><a href="../chapter4/4_3_2useofmultiplesourcefiles.jsp">uSE OF mULTIPLE sOURCE fILES</a></p>
<p><a href="../chapter4/4_3_3dissectingtheemployeeclass.jsp">dISSECTING THE eMPLOYEE cLASS</a></p>
<p><a href="../chapter4/4_3_4firststepswithconstructors.jsp">fIRST sTEPS WITH cONSTRUCTORS</a></p>
<p><a href="../chapter4/4_3_5implicitandexplicitparameters.jsp">iMPLICIT AND eXPLICIT pARAMETERS</a></p>
<p><a href="../chapter4/4_3_6benefitsofencapsulation.jsp">bENEFITS OF eNCAPSULATION</a></p>
<p><a href="../chapter4/4_3_7classbasedaccessprivileges.jsp">cLASSbASED aCCESS pRIVILEGES</a></p>
<p><a href="../chapter4/4_3_8privatemethods.jsp">pRIVATE mETHODS</a></p>
<p><a href="../chapter4/4_3_9finalinstancefields.jsp">fINAL iNSTANCE fIELDS</a></p>
</div>
<button class="accordion">sTATIC fIELDS AND mETHODS</button>
<div class="panel">
<p><a href="../chapter4/4_4staticfieldsandmethods.jsp">sTATIC fIELDS AND mETHODS</a></p><p><a href="../chapter4/4_4_1staticfields.jsp">sTATIC fIELDS</a></p>
<p><a href="../chapter4/4_4_2staticconstants.jsp">sTATIC cONSTANTS</a></p>
<p><a href="../chapter4/4_4_3staticmethods.jsp">sTATIC mETHODS</a></p>
<p><a href="../chapter4/4_4_4factorymethods.jsp">fACTORY mETHODS</a></p>
<p><a href="../chapter4/4_4_5themainmethod.jsp">tHE MAIN mETHOD</a></p>
</div>
<button class="accordion">mETHOD pARAMETERS</button>
<div class="panel">
<p><a href="../chapter4/4_5methodparameters.jsp">mETHOD pARAMETERS</a></p></div>
<button class="accordion">oBJECT cONSTRUCTION</button>
<div class="panel">
<p><a href="../chapter4/4_6objectconstruction.jsp">oBJECT cONSTRUCTION</a></p><p><a href="../chapter4/4_6_1overloading.jsp">oVERLOADING</a></p>
<p><a href="../chapter4/4_6_2defaultfieldinitialization.jsp">dEFAULT fIELD iNITIALIZATION</a></p>
<p><a href="../chapter4/4_6_3theconstructorwithnoarguments.jsp">tHE cONSTRUCTOR WITH nO aRGUMENTS</a></p>
<p><a href="../chapter4/4_6_4explicitfieldinitialization.jsp">eXPLICIT fIELD iNITIALIZATION</a></p>
<p><a href="../chapter4/4_6_5parameternames.jsp">pARAMETER nAMES</a></p>
<p><a href="../chapter4/4_6_6callinganotherconstructor.jsp">cALLING aNOTHER cONSTRUCTOR</a></p>
<p><a href="../chapter4/4_6_7initializationblocks.jsp">iNITIALIZATION bLOCKS</a></p>
<p><a href="../chapter4/4_6_8objectdestructionandthefinalizemethod.jsp">oBJECT dESTRUCTION AND THE FINALIZE mETHOD</a></p>
</div>
<button class="accordion">pACKAGES</button>
<div class="panel">
<p><a href="../chapter4/4_7packages.jsp">pACKAGES</a></p><p><a href="../chapter4/4_7_1classimportation.jsp">cLASS iMPORTATION</a></p>
<p><a href="../chapter4/4_7_2staticimports.jsp">sTATIC iMPORTS</a></p>
<p><a href="../chapter4/4_7_3additionofaclassintoapackage.jsp">aDDITION OF A cLASS INTO A pACKAGE</a></p>
<p><a href="../chapter4/4_7_4packagescope.jsp">pACKAGE sCOPE</a></p>
</div>
<button class="accordion">tHE cLASS pATH</button>
<div class="panel">
<p><a href="../chapter4/4_8theclasspath.jsp">tHE cLASS pATH</a></p></div>
<button class="accordion">dOCUMENTATION cOMMENTS</button>
<div class="panel">
<p><a href="../chapter4/4_9documentationcomments.jsp">dOCUMENTATION cOMMENTS</a></p><p><a href="../chapter4/4_9_1commentinsertion.jsp">cOMMENT iNSERTION</a></p>
<p><a href="../chapter4/4_9_2classcomments.jsp">cLASS cOMMENTS</a></p>
<p><a href="../chapter4/4_9_3methodcomments.jsp">mETHOD cOMMENTS</a></p>
<p><a href="../chapter4/4_9_4fieldcomments.jsp">fIELD cOMMENTS</a></p>
<p><a href="../chapter4/4_9_5generalcomments.jsp">gENERAL cOMMENTS</a></p>
<p><a href="../chapter4/4_9_6packageandoverviewcomments.jsp">pACKAGE AND oVERVIEW cOMMENTS</a></p>
<p><a href="../chapter4/4_9_7commentextraction.jsp">cOMMENT eXTRACTION</a></p>
</div>
<button class="accordion">cLASS dESIGN hINTS</button>
<div class="panel">
<p><a href="../chapter4/4_10classdesignhints.jsp">cLASS dESIGN hINTS</a></p></div>

</td>
<td>
<div id="post">
<h3>cHAPTER 4 bENEFITS OF eNCAPSULATION</h3>
<p>Now Look at methods of class Horse </p> 

<pre> 

getColor() : String 

getSize() : int 

getHireDay() : Date 

getBreed() : String 

getDate() : LocalDate 

getSpeed() : int 

setBreed(String) : void 

setColor(String) : void 

setDate(LocalDate) : void 

setHireDay(Date) : void 

setSize(int) : void 

setSpeed(int) : void 

</pre> 

 

<p>Here we are not aceesing the variable of class Horse directly as </p> 

 

<pre> 

breed : String 

color : String 

date : LocalDate 

hireDay : Date 

size : int 

speed : int 

</pre> 

 

<pre> 

package chap4.multi;  

import java.util.Date;  

public class HorseTest {  

   public static void main(String... s) {  

        Horse[] hor = new Horse[4];  

        hor[0] = new Horse(16, "Brown", 100, "Arbaic");  

        hor[1] = new Horse(14, "Brown", 106, "Turkish");  

        hor[2] = new Horse(17, "Black", 110, "German");  

        hor[3] = new Horse(20, "Black", 140, "Indian");  

        for (Horse hr : hor) {  

            hr.rasieSpeed(5);  

            Date hireDay = hr.getHireDay();  

            long add2Days = 2*24*60*60*1000;  

            hr.setHireDay(new Date(hireDay.getTime() + add2Days));  

        }  

    }  

} 

</pre> 

 

<pre> 

package chap4.multi; 

  

import java.time.LocalDate; 

  

import java.util.Date; 

  

public class Horse { 

  

   private int size; 

   private String color; 

   private int speed; 

   private String breed; 

   private LocalDate date; 

   private Date hireDay; 

    public void setSize(int size) { 

        this.size = size; 

    } 

  

    public int getSize() { 

        return size; 

    } 

  

    public void setColor(String color) { 

        this.color = color; 

    } 

  

    public String getColor() { 

        return color; 

    } 

  

    public void setSpeed(int speed) { 

        this.speed = speed; 

    } 

  

    public int getSpeed() { 

        //  

        return speed; 

    } 

  

    public void setBreed(String breed) { 

        this.breed = breed; 

    } 

  

    public String getBreed() { 

        return breed; 

    } 

  

    public void setDate(LocalDate date) { 

        this.date = date; 

    } 

  

    public LocalDate getDate() { 

        return date; 

    } 

  

    public void rasieSpeed(int speed) { 

        this.speed = this.speed + speed; 

    } 

  

    public void setHireDay(Date hireDay) { 

        this.hireDay = hireDay; 

    } 

  

    public Date getHireDay() { 

        this.hireDay = new Date(System.currentTimeMillis()); 

        return hireDay; 

    } 

  

    enum Sound { 

        neigh, 

        snort, 

        whinny, 

        nicker 

    }; 

  

    public Horse(int size, String color, int speed, String breed) { 

        int size1 = size; 

        String color1 = color; 

        int speed1 = speed; 

        String breed1 = breed; 

    } 

  

    public void sound() { 

        Sound sound1 = Sound.neigh; 

        Sound sound2 = Sound.snort; 

    } 

  

    public void race() { 

    

    } 

  

    public void poloGame() { 

        if (size > 16) { 

            System.out.println("A horse can play polo"); 

        } else { 

            System.out.println("Not eligible for polo Game"); 

        } 

    } 

} 

</pre> 

 

<p> 

They are obivious example of accessor methods. As they simply returns the value of instance fields. 

</p> 

 

<p>Would not be easier to make the instance variable as public so that we can change it easily instead of accesor methods.</p> 

 

<p>How ever the name field is readonly . Once you set it in the constructor there is a no method to change it . So we have a gurantee that name field will never be curropted</p> 

 

<p>The speed variable is not read only , but it can be chnaged only by the method raiseSpeed only . So in future if the value is not found to be correct or some debugging is needed than we can directly check this function.</p> 

 

<p>Had the speed field been public, the culprit for messing up the value could have been anywhere. </p> 

 

<p>Sometimes, it happens that you want to get and set the value of an instance field. Then you need to supply three items:</p> 

<ol> 

<li>A private data field;</li> 

<li> A public field accessor method; and</li> 

<li> A public field mutator method.</li> 

</ol> 

<p>This is a lot more tedious than supplying a single public data field, but there are considerable benefits.</p> 

<p>First, you can change the internal implementation without affecting any code other than the methods of the class. For example, if the storage of the name is changed to</p> 

<pre> 

String firstName; 
String lastName; 

</pre> 

<p>then the getName method can be changed to return</p> 

<p>firstName + " " + lastName</p> 

<p>This change is completely invisible to the remainder of the program.</p> 

<p>Of course, the accessor and mutator methods may need to do a lot of work and convert between the old and the new data representation. That leads us to our second benefit: </p> 

<p>Mutator methods can perform error checking, whereas code that simply assigns to a field may not go into the trouble. For example, a setSalary method might check that the salary is never less than 0.</p> 

<p>Take care for the accessor methods that return reference to mutable objects.In the above eaxmple we have break the rule for it </p> 

 

<pre>  

public Date getHireDay() { 

        this.hireDay = new Date(System.currentTimeMillis()); 

        return hireDay; 

    } 

</pre> 

<p>Unlike the LocalDate class which has no mutator method, the Date class has a mutator methods, setTime </p> 

 

<p>The fact that Date objects are mutable breaks encapsulation! Consider the following rogue code:</p> 

 

<pre> 

      Date hireDay = hr.getHireDay();  

            long add2Days = 2*24*60*60*1000;  

            hr.setHireDay(new Date(hireDay.getTime() + add2Days)); 

</pre> 

 

<p>Both hr and hireDay reffers to same Object applying mutator method to d automatically changes the private state of  Horse object</p> 

<p> if you need to return a reference to a mutable object, you should clone it first. A clone is an exact copy of an object stored in a new location. We discuss cloning in detail in Chapter 6. Here is the corrected code:</p> 

 

<pre> 

 public Date getHireDay() { 

        this.hireDay = new Date(System.currentTimeMillis()); 

        return (Date)hireDay.clone(); 

    } 

</pre> 

<p>As a rule of thumb, always use clone whenever you need to return a copy of a mutable field.</p> 

 

 
<jsp:include page="../status_change.jsp" />
</div>
</td>
</tr>
</table>
<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
    acc[i].onclick = function(){
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
            panel.style.display = "none";
        } else {
            panel.style.display = "block";
        }
    }
}
</script>

</body>
<a href="../chapter4/4_3_5implicitandexplicitparameters.jsp"> << Previous</a>
<a href="../TableOfContentJava.jsp"> TOC </a>
<a href="../chapter4/4_3_7classbasedaccessprivileges.jsp">Next >> </a>
<jsp:include page="../footer.html" />
</html>
